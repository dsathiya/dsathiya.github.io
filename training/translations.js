// Translations for multilingual support
const translations = {
    en: {
        // App Title and General
        app_title: "Mason Mestri Tracker",
        app_subtitle: "Track your daily work and team",
        
        // Authentication
        login: "Login",
        register: "Register",
        logout: "Logout",
        mobile_number: "Mobile Number",
        password: "Password",
        full_name: "Full Name",
        user_role: "User Role",
        admin: "Admin (Business Owner)",
        worker: "Worker (Mason Mestri)",
        no_account: "Don't have an account?",
        have_account: "Already have an account?",
        
        // Navigation
        sites: "Sites",
        workers: "Workers",
        daily_work: "Daily Work",
        analytics: "Analytics",
        
        // Sites
        my_sites: "My Sites",
        add_site: "Add Site",
        site_details: "Site Details",
        site_name: "Site Name",
        site_type: "Site Type",
        residential: "Residential",
        commercial: "Commercial",
        address: "Address",
        contact_number: "Contact Number",
        map_location: "Map Location (Optional)",
        
        // Workers
        team_members: "Team Members",
        add_worker: "Add Worker",
        worker_details: "Worker Details",
        worker_name: "Worker Name",
        worker_type: "Worker Type",
        permanent: "Permanent Team Member",
        temporary: "Temporary Worker",
        
        // Daily Work
        daily_work_log: "Daily Work Log",
        add_work_entry: "Add Work Entry",
        work_entry: "Work Entry",
        date: "Date",
        site: "Site",
        worker: "Worker",
        all_sites: "All Sites",
        all_workers: "All Workers",
        select_site: "Select Site",
        select_worker: "Select Worker",
        earning_amount: "Earning Amount",
        notes: "Notes (Optional)",
        mark_as_paid: "Mark as Paid",
        
        // Analytics
        earnings_summary: "Earnings Summary",
        site_activity: "Site Activity",
        regional_trends: "Regional Construction Trends",
        
        // Actions
        save: "Save",
        cancel: "Cancel",
        edit: "Edit",
        delete: "Delete",
        view: "View",
        
        // Status
        paid: "Paid",
        unpaid: "Unpaid",
        active: "Active",
        inactive: "Inactive",
        
        // Messages
        welcome: "Welcome",
        no_data: "No data available",
        loading: "Loading...",
        saved: "Saved successfully",
        deleted: "Deleted successfully",
        error: "An error occurred",
        
        // Placeholders
        enter_site_name: "Enter site name",
        enter_worker_name: "Enter worker name",
        enter_amount: "Enter amount",
        enter_notes: "Enter notes",
        
        // Validation
        required_field: "This field is required",
        invalid_mobile: "Please enter a valid mobile number",
        invalid_amount: "Please enter a valid amount",
        
        // Additional Messages
        invalid_credentials: "Invalid mobile number or password",
        user_exists: "User already exists with this mobile number",
        registration_success: "Registration successful!",
        confirm_delete: "Confirm Delete",
        delete_site_confirm: "Are you sure you want to delete this site? This action cannot be undone.",
        delete_worker_confirm: "Are you sure you want to delete this worker? This action cannot be undone.",
        delete_worklog_confirm: "Are you sure you want to delete this work entry? This action cannot be undone.",
        site_added: "Site added successfully",
        site_updated: "Site updated successfully",
        site_deleted: "Site deleted successfully",
        worker_added: "Worker added successfully",
        worker_updated: "Worker updated successfully",
        worker_deleted: "Worker deleted successfully",
        worklog_added: "Work entry added successfully",
        worklog_updated: "Work entry updated successfully",
        worklog_deleted: "Work entry deleted successfully"
    },
    
    ml: {
        // App Title and General
        app_title: "മേസൺ മേസ്ത്രി ട്രാക്കർ",
        app_subtitle: "നിങ്ങളുടെ ദൈനംദിന ജോലിയും ടീമും ട്രാക്ക് ചെയ്യുക",
        
        // Authentication
        login: "ലോഗിൻ",
        register: "രജിസ്റ്റർ",
        logout: "ലോഗൗട്ട്",
        mobile_number: "മൊബൈൽ നമ്പർ",
        password: "പാസ്‌വേഡ്",
        full_name: "പൂർണ്ണ നാമം",
        user_role: "ഉപയോക്തൃ റോൾ",
        admin: "അഡ്മിൻ (ബിസിനസ് ഉടമ)",
        worker: "വർക്കർ (മേസൺ മേസ്ത്രി)",
        no_account: "അക്കൗണ്ട് ഇല്ലേ?",
        have_account: "ഇതിനകം അക്കൗണ്ട് ഉണ്ടോ?",
        
        // Navigation
        sites: "സൈറ്റുകൾ",
        workers: "തൊഴിലാളികൾ",
        daily_work: "ദൈനംദിന ജോലി",
        analytics: "അനലിറ്റിക്സ്",
        
        // Sites
        my_sites: "എന്റെ സൈറ്റുകൾ",
        add_site: "സൈറ്റ് ചേർക്കുക",
        site_details: "സൈറ്റ് വിശദാംശങ്ങൾ",
        site_name: "സൈറ്റിന്റെ പേര്",
        site_type: "സൈറ്റ് തരം",
        residential: "റെസിഡൻഷ്യൽ",
        commercial: "കൊമേഴ്‌സ്യൽ",
        address: "വിലാസം",
        contact_number: "കോൺടാക്റ്റ് നമ്പർ",
        map_location: "മാപ്പ് ലൊക്കേഷൻ (ഓപ്ഷണൽ)",
        
        // Workers
        team_members: "ടീം അംഗങ്ങൾ",
        add_worker: "തൊഴിലാളിയെ ചേർക്കുക",
        worker_details: "തൊഴിലാളിയുടെ വിശദാംശങ്ങൾ",
        worker_name: "തൊഴിലാളിയുടെ പേര്",
        worker_type: "തൊഴിലാളി തരം",
        permanent: "സ്ഥിര ടീം അംഗം",
        temporary: "താൽക്കാലിക തൊഴിലാളി",
        
        // Daily Work
        daily_work_log: "ദൈനംദിന ജോലി ലോഗ്",
        add_work_entry: "ജോലി എൻട്രി ചേർക്കുക",
        work_entry: "ജോലി എൻട്രി",
        date: "തീയതി",
        site: "സൈറ്റ്",
        worker: "തൊഴിലാളി",
        all_sites: "എല്ലാ സൈറ്റുകളും",
        all_workers: "എല്ലാ തൊഴിലാളികളും",
        select_site: "സൈറ്റ് തിരഞ്ഞെടുക്കുക",
        select_worker: "തൊഴിലാളിയെ തിരഞ്ഞെടുക്കുക",
        earning_amount: "വരുമാന തുക",
        notes: "കുറിപ്പുകൾ (ഓപ്ഷണൽ)",
        mark_as_paid: "പണമടച്ചതായി അടയാളപ്പെടുത്തുക",
        
        // Analytics
        earnings_summary: "വരുമാന സംഗ്രഹം",
        site_activity: "സൈറ്റ് പ്രവർത്തനം",
        regional_trends: "പ്രാദേശിക നിർമ്മാണ പ്രവണതകൾ",
        
        // Actions
        save: "സേവ് ചെയ്യുക",
        cancel: "റദ്ദാക്കുക",
        edit: "എഡിറ്റ് ചെയ്യുക",
        delete: "ഇല്ലാതാക്കുക",
        view: "കാണുക",
        
        // Status
        paid: "പണമടച്ചു",
        unpaid: "പണമടച്ചിട്ടില്ല",
        active: "സജീവം",
        inactive: "നിഷ്ക്രിയം",
        
        // Messages
        welcome: "സ്വാഗതം",
        no_data: "ഡാറ്റ ലഭ്യമല്ല",
        loading: "ലോഡിംഗ്...",
        saved: "വിജയകരമായി സേവ് ചെയ്തു",
        deleted: "വിജയകരമായി ഇല്ലാതാക്കി",
        error: "ഒരു പിശക് സംഭവിച്ചു",
        
        // Placeholders
        enter_site_name: "സൈറ്റിന്റെ പേര് നൽകുക",
        enter_worker_name: "തൊഴിലാളിയുടെ പേര് നൽകുക",
        enter_amount: "തുക നൽകുക",
        enter_notes: "കുറിപ്പുകൾ നൽകുക",
        
        // Validation
        required_field: "ഈ ഫീൽഡ് ആവശ്യമാണ്",
        invalid_mobile: "സാധുവായ മൊബൈൽ നമ്പർ നൽകുക",
        invalid_amount: "സാധുവായ തുക നൽകുക",
        
        // Additional Messages
        invalid_credentials: "തെറ്റായ മൊബൈൽ നമ്പർ അല്ലെങ്കിൽ പാസ്‌വേഡ്",
        user_exists: "ഈ മൊബൈൽ നമ്പറിൽ ഉപയോക്താവ് ഇതിനകം നിലവിലുണ്ട്",
        registration_success: "രജിസ്ട്രേഷൻ വിജയകരമായി!",
        confirm_delete: "ഇല്ലാതാക്കൽ സ്ഥിരീകരിക്കുക",
        delete_site_confirm: "ഈ സൈറ്റ് ഇല്ലാതാക്കാൻ നിങ്ങൾ ആഗ്രഹിക്കുന്നുണ്ടോ? ഈ പ്രവർത്തനം പഴയപടിയാക്കാൻ കഴിയില്ല.",
        delete_worker_confirm: "ഈ തൊഴിലാളിയെ ഇല്ലാതാക്കാൻ നിങ്ങൾ ആഗ്രഹിക്കുന്നുണ്ടോ? ഈ പ്രവർത്തനം പഴയപടിയാക്കാൻ കഴിയില്ല.",
        delete_worklog_confirm: "ഈ ജോലി എൻട്രി ഇല്ലാതാക്കാൻ നിങ്ങൾ ആഗ്രഹിക്കുന്നുണ്ടോ? ഈ പ്രവർത്തനം പഴയപടിയാക്കാൻ കഴിയില്ല.",
        site_added: "സൈറ്റ് വിജയകരമായി ചേർത്തു",
        site_updated: "സൈറ്റ് വിജയകരമായി അപ്ഡേറ്റ് ചെയ്തു",
        site_deleted: "സൈറ്റ് വിജയകരമായി ഇല്ലാതാക്കി",
        worker_added: "തൊഴിലാളി വിജയകരമായി ചേർത്തു",
        worker_updated: "തൊഴിലാളി വിജയകരമായി അപ്ഡേറ്റ് ചെയ്തു",
        worker_deleted: "തൊഴിലാളി വിജയകരമായി ഇല്ലാതാക്കി",
        worklog_added: "ജോലി എൻട്രി വിജയകരമായി ചേർത്തു",
        worklog_updated: "ജോലി എൻട്രി വിജയകരമായി അപ്ഡേറ്റ് ചെയ്തു",
        worklog_deleted: "ജോലി എൻട്രി വിജയകരമായി ഇല്ലാതാക്കി"
    },
    
    ta: {
        // App Title and General
        app_title: "மேசன் மேஸ்திரி ட்ராக்கர்",
        app_subtitle: "உங்கள் தினசரி வேலை மற்றும் குழுவை கண்காணிக்கவும்",
        
        // Authentication
        login: "உள்நுழைய",
        register: "பதிவு செய்ய",
        logout: "வெளியேறு",
        mobile_number: "மொபைல் எண்",
        password: "கடவுச்சொல்",
        full_name: "முழு பெயர்",
        user_role: "பயனர் பங்கு",
        admin: "நிர்வாகி (வணிக உரிமையாளர்)",
        worker: "தொழிலாளி (மேசன் மேஸ்திரி)",
        no_account: "கணக்கு இல்லையா?",
        have_account: "ஏற்கனவே கணக்கு உள்ளதா?",
        
        // Navigation
        sites: "தளங்கள்",
        workers: "தொழிலாளர்கள்",
        daily_work: "தினசரி வேலை",
        analytics: "பகுப்பாய்வு",
        
        // Sites
        my_sites: "எனது தளங்கள்",
        add_site: "தளம் சேர்க்க",
        site_details: "தள விவரங்கள்",
        site_name: "தள பெயர்",
        site_type: "தள வகை",
        residential: "குடியிருப்பு",
        commercial: "வணிக",
        address: "முகவரி",
        contact_number: "தொடர்பு எண்",
        map_location: "வரைபட இடம் (விருப்பம்)",
        
        // Workers
        team_members: "குழு உறுப்பினர்கள்",
        add_worker: "தொழிலாளி சேர்க்க",
        worker_details: "தொழிலாளி விவரங்கள்",
        worker_name: "தொழிலாளி பெயர்",
        worker_type: "தொழிலாளி வகை",
        permanent: "நிரந்தர குழு உறுப்பினர்",
        temporary: "தற்காலிக தொழிலாளி",
        
        // Daily Work
        daily_work_log: "தினசரி வேலை பதிவு",
        add_work_entry: "வேலை பதிவு சேர்க்க",
        work_entry: "வேலை பதிவு",
        date: "தேதி",
        site: "தளம்",
        worker: "தொழிலாளி",
        all_sites: "அனைத்து தளங்கள்",
        all_workers: "அனைத்து தொழிலாளர்கள்",
        select_site: "தளம் தேர்ந்தெடுக்க",
        select_worker: "தொழிலாளி தேர்ந்தெடுக்க",
        earning_amount: "வருமான தொகை",
        notes: "குறிப்புகள் (விருப்பம்)",
        mark_as_paid: "பணம் செலுத்தியதாக குறிக்க",
        
        // Analytics
        earnings_summary: "வருமான சுருக்கம்",
        site_activity: "தள செயல்பாடு",
        regional_trends: "பிராந்திய கட்டுமான போக்குகள்",
        
        // Actions
        save: "சேமிக்க",
        cancel: "ரத்து செய்",
        edit: "திருத்து",
        delete: "நீக்கு",
        view: "பார்க்க",
        
        // Status
        paid: "பணம் செலுத்தப்பட்டது",
        unpaid: "பணம் செலுத்தப்படவில்லை",
        active: "செயலில்",
        inactive: "செயலற்ற",
        
        // Messages
        welcome: "வரவேற்கிறோம்",
        no_data: "தரவு கிடைக்கவில்லை",
        loading: "ஏற்றுகிறது...",
        saved: "வெற்றிகரமாக சேமிக்கப்பட்டது",
        deleted: "வெற்றிகரமாக நீக்கப்பட்டது",
        error: "பிழை ஏற்பட்டது",
        
        // Placeholders
        enter_site_name: "தள பெயரை உள்ளிடவும்",
        enter_worker_name: "தொழிலாளி பெயரை உள்ளிடவும்",
        enter_amount: "தொகையை உள்ளிடவும்",
        enter_notes: "குறிப்புகளை உள்ளிடவும்",
        
        // Validation
        required_field: "இந்த புலம் தேவை",
        invalid_mobile: "சரியான மொபைல் எண்ணை உள்ளிடவும்",
        invalid_amount: "சரியான தொகையை உள்ளிடவும்",
        
        // Additional Messages
        invalid_credentials: "தவறான மொபைல் எண் அல்லது கடவுச்சொல்",
        user_exists: "இந்த மொபைல் எண்ணில் பயனர் ஏற்கனவே உள்ளார்",
        registration_success: "பதிவு வெற்றிகரமாக!",
        confirm_delete: "நீக்குதலை உறுதிப்படுத்தவும்",
        delete_site_confirm: "இந்த தளத்தை நீக்க விரும்புகிறீர்களா? இந்த செயலை மாற்ற முடியாது.",
        delete_worker_confirm: "இந்த தொழிலாளியை நீக்க விரும்புகிறீர்களா? இந்த செயலை மாற்ற முடியாது.",
        delete_worklog_confirm: "இந்த வேலை பதிவை நீக்க விரும்புகிறீர்களா? இந்த செயலை மாற்ற முடியாது.",
        site_added: "தளம் வெற்றிகரமாக சேர்க்கப்பட்டது",
        site_updated: "தளம் வெற்றிகரமாக புதுப்பிக்கப்பட்டது",
        site_deleted: "தளம் வெற்றிகரமாக நீக்கப்பட்டது",
        worker_added: "தொழிலாளி வெற்றிகரமாக சேர்க்கப்பட்டார்",
        worker_updated: "தொழிலாளி வெற்றிகரமாக புதுப்பிக்கப்பட்டார்",
        worker_deleted: "தொழிலாளி வெற்றிகரமாக நீக்கப்பட்டார்",
        worklog_added: "வேலை பதிவு வெற்றிகரமாக சேர்க்கப்பட்டது",
        worklog_updated: "வேலை பதிவு வெற்றிகரமாக புதுப்பிக்கப்பட்டது",
        worklog_deleted: "வேலை பதிவு வெற்றிகரமாக நீக்கப்பட்டது"
    },
    
    hi: {
        // App Title and General
        app_title: "मेसन मेस्त्री ट्रैकर",
        app_subtitle: "अपने दैनिक काम और टीम को ट्रैक करें",
        
        // Authentication
        login: "लॉगिन",
        register: "रजिस्टर",
        logout: "लॉगआउट",
        mobile_number: "मोबाइल नंबर",
        password: "पासवर्ड",
        full_name: "पूरा नाम",
        user_role: "उपयोगकर्ता भूमिका",
        admin: "एडमिन (व्यापार मालिक)",
        worker: "कार्यकर्ता (मेसन मेस्त्री)",
        no_account: "खाता नहीं है?",
        have_account: "पहले से खाता है?",
        
        // Navigation
        sites: "साइटें",
        workers: "कार्यकर्ता",
        daily_work: "दैनिक काम",
        analytics: "एनालिटिक्स",
        
        // Sites
        my_sites: "मेरी साइटें",
        add_site: "साइट जोड़ें",
        site_details: "साइट विवरण",
        site_name: "साइट का नाम",
        site_type: "साइट प्रकार",
        residential: "आवासीय",
        commercial: "व्यावसायिक",
        address: "पता",
        contact_number: "संपर्क नंबर",
        map_location: "मैप स्थान (वैकल्पिक)",
        
        // Workers
        team_members: "टीम सदस्य",
        add_worker: "कार्यकर्ता जोड़ें",
        worker_details: "कार्यकर्ता विवरण",
        worker_name: "कार्यकर्ता का नाम",
        worker_type: "कार्यकर्ता प्रकार",
        permanent: "स्थायी टीम सदस्य",
        temporary: "अस्थायी कार्यकर्ता",
        
        // Daily Work
        daily_work_log: "दैनिक काम लॉग",
        add_work_entry: "काम एंट्री जोड़ें",
        work_entry: "काम एंट्री",
        date: "तारीख",
        site: "साइट",
        worker: "कार्यकर्ता",
        all_sites: "सभी साइटें",
        all_workers: "सभी कार्यकर्ता",
        select_site: "साइट चुनें",
        select_worker: "कार्यकर्ता चुनें",
        earning_amount: "कमाई राशि",
        notes: "नोट्स (वैकल्पिक)",
        mark_as_paid: "भुगतान के रूप में चिह्नित करें",
        
        // Analytics
        earnings_summary: "कमाई सारांश",
        site_activity: "साइट गतिविधि",
        regional_trends: "क्षेत्रीय निर्माण रुझान",
        
        // Actions
        save: "सेव करें",
        cancel: "रद्द करें",
        edit: "संपादित करें",
        delete: "हटाएं",
        view: "देखें",
        
        // Status
        paid: "भुगतान किया गया",
        unpaid: "भुगतान नहीं किया गया",
        active: "सक्रिय",
        inactive: "निष्क्रिय",
        
        // Messages
        welcome: "स्वागत है",
        no_data: "कोई डेटा उपलब्ध नहीं",
        loading: "लोड हो रहा है...",
        saved: "सफलतापूर्वक सेव किया गया",
        deleted: "सफलतापूर्वक हटाया गया",
        error: "एक त्रुटि हुई",
        
        // Placeholders
        enter_site_name: "साइट का नाम दर्ज करें",
        enter_worker_name: "कार्यकर्ता का नाम दर्ज करें",
        enter_amount: "राशि दर्ज करें",
        enter_notes: "नोट्स दर्ज करें",
        
        // Validation
        required_field: "यह फील्ड आवश्यक है",
        invalid_mobile: "कृपया वैध मोबाइल नंबर दर्ज करें",
        invalid_amount: "कृपया वैध राशि दर्ज करें",
        
        // Additional Messages
        invalid_credentials: "गलत मोबाइल नंबर या पासवर्ड",
        user_exists: "इस मोबाइल नंबर से उपयोगकर्ता पहले से मौजूद है",
        registration_success: "पंजीकरण सफल!",
        confirm_delete: "हटाने की पुष्टि करें",
        delete_site_confirm: "क्या आप इस साइट को हटाना चाहते हैं? यह क्रिया पूर्ववत नहीं की जा सकती।",
        delete_worker_confirm: "क्या आप इस कार्यकर्ता को हटाना चाहते हैं? यह क्रिया पूर्ववत नहीं की जा सकती।",
        delete_worklog_confirm: "क्या आप इस काम एंट्री को हटाना चाहते हैं? यह क्रिया पूर्ववत नहीं की जा सकती।",
        site_added: "साइट सफलतापूर्वक जोड़ी गई",
        site_updated: "साइट सफलतापूर्वक अपडेट की गई",
        site_deleted: "साइट सफलतापूर्वक हटाई गई",
        worker_added: "कार्यकर्ता सफलतापूर्वक जोड़ा गया",
        worker_updated: "कार्यकर्ता सफलतापूर्वक अपडेट किया गया",
        worker_deleted: "कार्यकर्ता सफलतापूर्वक हटाया गया",
        worklog_added: "काम एंट्री सफलतापूर्वक जोड़ी गई",
        worklog_updated: "काम एंट्री सफलतापूर्वक अपडेट की गई",
        worklog_deleted: "काम एंट्री सफलतापूर्वक हटाई गई"
    }
};

// Translation utility functions
let currentLanguage = 'en';

function setLanguage(lang) {
    currentLanguage = lang;
    updatePageTranslations();
    localStorage.setItem('selectedLanguage', lang);
}

function translate(key) {
    return translations[currentLanguage][key] || translations['en'][key] || key;
}

function updatePageTranslations() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = translate(key);
        
        if (element.tagName === 'INPUT' && (element.type === 'submit' || element.type === 'button')) {
            element.value = translation;
        } else if (element.tagName === 'OPTION') {
            element.textContent = translation;
        } else {
            element.textContent = translation;
        }
    });
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
    const languageSelect = document.getElementById('languageSelect');
    
    if (languageSelect) {
        languageSelect.value = savedLanguage;
        languageSelect.addEventListener('change', function() {
            setLanguage(this.value);
        });
    }
    
    setLanguage(savedLanguage);
});